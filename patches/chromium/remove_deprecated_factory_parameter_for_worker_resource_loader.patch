From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: deepak1556 <hop2deep@gmail.com>
Date: Sat, 12 Sep 2020 20:15:43 -0700
Subject: Remove deprecated factory parameter for worker resource loader

This can be removed once https://chromium-review.googlesource.com/c/chromium/src/+/2357523 lands.

diff --git a/content/browser/worker_host/worker_script_fetch_initiator.cc b/content/browser/worker_host/worker_script_fetch_initiator.cc
index 6ca1bf4c7e5c489ea3f170c350c4660a1763918a..b9b73f0d04c2e176ea7f52306eb5f562ac04d608 100644
--- a/content/browser/worker_host/worker_script_fetch_initiator.cc
+++ b/content/browser/worker_host/worker_script_fetch_initiator.cc
@@ -226,8 +226,7 @@ WorkerScriptFetchInitiator::CreateFactoryBundle(
       GetContentClient()
           ->browser()
           ->RegisterNonNetworkWorkerMainResourceURLLoaderFactories(
-              storage_partition->browser_context(),
-              &non_network_uniquely_owned_factories);
+              storage_partition->browser_context(), &non_network_factories);
       break;
     case LoaderType::kSubResource:
       GetContentClient()
diff --git a/content/public/browser/content_browser_client.cc b/content/public/browser/content_browser_client.cc
index 2d2c8e61063ed3c34e4eb40a31ec62affcbe1f66..33e4c10b4b984cb49ec960cf257b866c738ec020 100644
--- a/content/public/browser/content_browser_client.cc
+++ b/content/public/browser/content_browser_client.cc
@@ -777,7 +777,7 @@ void ContentBrowserClient::RegisterNonNetworkNavigationURLLoaderFactories(
 void ContentBrowserClient::
     RegisterNonNetworkWorkerMainResourceURLLoaderFactories(
         BrowserContext* browser_context,
-        NonNetworkURLLoaderFactoryDeprecatedMap* uniquely_owned_factories) {}
+        NonNetworkURLLoaderFactoryMap* factories) {}
 
 void ContentBrowserClient::
     RegisterNonNetworkServiceWorkerUpdateURLLoaderFactories(
diff --git a/content/public/browser/content_browser_client.h b/content/public/browser/content_browser_client.h
index 464df770f76bacd7556dae52c7d59aa07d19762e..5ba93c6008cd92d31d0d064422c23e8087281788 100644
--- a/content/public/browser/content_browser_client.h
+++ b/content/public/browser/content_browser_client.h
@@ -1316,7 +1316,7 @@ class CONTENT_EXPORT ContentBrowserClient {
   // lifetimes.
   virtual void RegisterNonNetworkWorkerMainResourceURLLoaderFactories(
       BrowserContext* browser_context,
-      NonNetworkURLLoaderFactoryDeprecatedMap* uniquely_owned_factories);
+      NonNetworkURLLoaderFactoryMap* factories);
 
   // Allows the embedder to register per-scheme URLLoaderFactory
   // implementations to handle service worker main/imported script requests
